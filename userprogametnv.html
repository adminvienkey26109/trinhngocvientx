<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Trang Game Báº£o Máº­t</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      font-family: Arial, sans-serif;
      overflow: hidden;
      height: 100%;
      background: black;
      color: white;
    }

    canvas {
      position: fixed;
      top: 0;
      left: 0;
      z-index: -1;
    }

    #authSection, #gameMenu, .gameContent {
      display: none;
      position: absolute;
      width: 100%;
      height: 100%;
      padding: 20px;
      box-sizing: border-box;
      text-align: center;
    }

    #authSection {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }

    #authSection input {
      padding: 10px;
      margin: 10px;
      font-size: 18px;
    }

    #authSection button {
      padding: 10px 20px;
      font-size: 18px;
      cursor: pointer;
    }

    #gameMenu {
      display: none;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }

    .rainbow {
      border: 4px solid;
      border-image: linear-gradient(45deg, red, orange, yellow, green, cyan, blue, violet) 1;
      animation: rainbowBorder 5s linear infinite;
    }

    @keyframes rainbowBorder {
      0% { border-image-slice: 1; }
      100% { border-image-slice: 1; transform: rotate(360deg); }
    }

    .game-button {
      margin: 10px;
      padding: 15px 30px;
      font-size: 20px;
      background: #00ff99;
      color: black;
      border-radius: 12px;
      cursor: pointer;
      transition: transform 0.2s;
    }

    .game-button:hover {
      transform: scale(1.05);
    }

    .gameContent {
      display: none;
    }

    #countdown {
      font-size: 16px;
      margin-top: 10px;
      color: #ccc;
    }

    .admin-link {
      position: fixed;
      bottom: 10px;
      right: 10px;
      font-size: 16px;
    }

    .admin-link a {
      color: #00ffff;
      text-decoration: none;
    }

    .logout {
      position: fixed;
      top: 10px;
      right: 10px;
      background: red;
      padding: 8px 16px;
      border: none;
      color: white;
      border-radius: 8px;
      cursor: pointer;
    }
  </style>
</head>
<body>

<canvas id="bgCanvas"></canvas>

<div id="authSection">
  <h2>ğŸ” Nháº­p Key Äá»ƒ Truy Cáº­p</h2>
  <input type="text" id="keyInput" placeholder="Nháº­p key...">
  <button onclick="verifyKey()">XÃ¡c Nháº­n</button>
</div>

<div id="gameMenu" class="rainbow">
  <h2>ğŸ® Chá»n Game</h2>
  <div id="countdown"></div>
  <button class="logout" onclick="logout()">ÄÄƒng Xuáº¥t</button>
  <div id="gameButtons"></div>
</div>

<div class="admin-link">
  ğŸ“© <a href="https://www.facebook.com/trinhngocvien.tx" target="_blank">LiÃªn há»‡ Admin</a>
</div>

<!-- Ná»™i dung cÃ¡c game -->
<div id="game1" class="gameContent"><h2>ğŸ² Game 1 - TÃ i/Xá»‰u</h2><p>Chá»n tÃ i/xá»‰u, mÃ¡y dá»± Ä‘oÃ¡n káº¿t quáº£.</p></div>
<div id="game2" class="gameContent"><h2>ğŸ”¢ Game 2 - Quay Sá»‘</h2><p>Báº¥m Ä‘á»ƒ quay sá»‘ tá»« 1â€“100.</p></div>
<div id="game3" class="gameContent"><h2>ğŸ§  Game 3 - ÄoÃ¡n Sá»‘</h2><p>Há»‡ thá»‘ng chá»n sá»‘, báº¡n Ä‘oÃ¡n trong 5 lÆ°á»£t.</p></div>
<div id="game4" class="gameContent"><h2>ğŸ¯ Game 4 - Chá»n Nhanh</h2><p>Báº¥m nÃºt Ä‘Ãºng trong thá»i gian ngáº¯n nháº¥t.</p></div>
<div id="game5" class="gameContent"><h2>ğŸ’¡ Game 5 - CÃ¢u Há»i Nhanh</h2><p>Tráº£ lá»i 5 cÃ¢u há»i Ä‘Ãºng liÃªn tiáº¿p.</p></div>
<div id="game6" class="gameContent"><h2>âš–ï¸ Game 6 - So SÃ¡nh</h2><p>Chá»n sá»‘ lá»›n hÆ¡n trong 2 sá»‘ hiá»‡n ra.</p></div>
<div id="game7" class="gameContent"><h2>ğŸ§® Game 7 - TÃ­nh Nhanh</h2><p>TÃ­nh toÃ¡n nhanh trong thá»i gian giá»›i háº¡n.</p></div>
<div id="game8" class="gameContent"><h2>ğŸª™ Game 8 - Tung Äá»“ng Xu</h2><p>Tung xu ra máº·t ngáº«u nhiÃªn: ngá»­a hoáº·c sáº¥p.</p></div>
<div id="game9" class="gameContent"><h2>ğŸ§© Game 9 - TrÃ² ChÆ¡i ÄoÃ¡n MÃ u</h2><p>Chá»n Ä‘Ãºng mÃ u trÃ¹ng vá»›i tÃªn.</p></div>
<div id="game10" class="gameContent"><h2>ğŸ“‰ Game 10 - Dá»± ÄoÃ¡n Sá»‘ Ngáº«u NhiÃªn</h2><p>Nháº­p sá»‘, há»‡ thá»‘ng chá»n vÃ  cháº¥m Ä‘iá»ƒm.</p></div>

<script>
  // Canvas ná»n Ä‘á»™ng
  const canvas = document.getElementById('bgCanvas');
  const ctx = canvas.getContext('2d');
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;

  let particles = Array.from({ length: 100 }, () => ({
    x: Math.random() * canvas.width,
    y: Math.random() * canvas.height,
    r: Math.random() * 2 + 1,
    dx: (Math.random() - 0.5) * 1,
    dy: (Math.random() - 0.5) * 1
  }));

  function animate() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    for (let p of particles) {
      ctx.beginPath();
      ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
      ctx.fillStyle = "#0ff";
      ctx.fill();
      p.x += p.dx;
      p.y += p.dy;
      if (p.x < 0 || p.x > canvas.width) p.dx *= -1;
      if (p.y < 0 || p.y > canvas.height) p.dy *= -1;
    }
    requestAnimationFrame(animate);
  }
  animate();

  // XÃ¡c thá»±c key
  async function verifyKey() {
    const key = document.getElementById('keyInput').value.trim();
    if (!key) return alert("Vui lÃ²ng nháº­p key!");

    try {
      const res = await fetch('https://raw.githubusercontent.com/adminvienkey26109/trinhngocvientx/refs/heads/main/keys.json');
      const keys = await res.json();
      const match = keys.find(k => k.key === key);

      if (!match) return alert("âŒ Key khÃ´ng há»£p lá»‡!");

      if (match.expiresAt && Date.now() > new Date(match.expiresAt).getTime()) {
        return alert("âš ï¸ Key Ä‘Ã£ háº¿t háº¡n!");
      }

      showMenu(match.expiresAt);
    } catch (e) {
      alert("Lá»—i káº¿t ná»‘i Ä‘áº¿n server!");
    }
  }

  function showMenu(expiresAt) {
    document.getElementById('authSection').style.display = 'none';
    document.getElementById('gameMenu').style.display = 'flex';
    const buttons = document.getElementById('gameButtons');
    buttons.innerHTML = '';

    for (let i = 1; i <= 10; i++) {
      const btn = document.createElement('button');
      btn.className = 'game-button';
      btn.textContent = `Game ${i}`;
      btn.onclick = () => showGame(i);
      buttons.appendChild(btn);
    }

    // Countdown
    if (expiresAt) {
      const end = new Date(expiresAt).getTime();
      const cd = document.getElementById("countdown");
      const interval = setInterval(() => {
        const now = Date.now();
        const diff = end - now;
        if (diff <= 0) {
          cd.textContent = "â° Key Ä‘Ã£ háº¿t háº¡n!";
          clearInterval(interval);
          logout();
        } else {
          const mins = Math.floor(diff / 60000);
          const secs = Math.floor((diff % 60000) / 1000);
          cd.textContent = `â³ Key cÃ²n hiá»‡u lá»±c: ${mins} phÃºt ${secs} giÃ¢y`;
        }
      }, 1000);
    }
  }

  function showGame(index) {
    document.querySelectorAll(".gameContent").forEach(el => el.style.display = "none");
    document.getElementById("game" + index).style.display = "block";
  }

  function logout() {
    location.reload();
  }
</script>

</body>
</html>
